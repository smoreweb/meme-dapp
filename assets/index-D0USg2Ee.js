import{r as i,u as g,a as S,j as e,I as c,B as P,P as A,S as T,L as v,b as I}from"./index-LPf_Rpae.js";import{F as t}from"./index-DwHhrzkf.js";const F=()=>{const[r]=t.useForm(),[u,d]=i.useState(""),m=t.useWatch("sendAddress",r),h=t.useWatch("amount",r),[o,x]=i.useState(""),{connection:l}=g(),{publicKey:a,sendTransaction:p}=S(),b=()=>o?`https://explorer.solana.com/tx/${o}?cluster=mainnet-beta`:"",j=()=>{if(!l||!a)return;const n=new I,s=new A(m),y=T.transfer({fromPubkey:a,toPubkey:s,lamports:v*h});n.add(y),p(n,l).then(f=>{x(f)})};return e.jsxs("div",{children:[a?e.jsxs(t,{form:r,onFinish:j,style:{maxWidth:600,margin:"0 auto"},layout:"vertical",children:[e.jsx(t.Item,{label:"接收地址",labelCol:{span:12},labelAlign:"right",colon:!1,name:"sendAddress",rules:[{required:!0,message:"请输入接收地址"}],children:e.jsx(c,{placeholder:"请输入收款地址"})}),e.jsx(t.Item,{label:"发送数量",name:"amount",getValueFromEvent:n=>{const s=n.target.value;return/^\d+(\.\d{0,8})?$/.test(s)||s===""?(d(s),s):u||""},rules:[{required:!0,message:"请输入发送数量"}],children:e.jsx(c,{placeholder:"0.0"})}),e.jsx(t.Item,{style:{marginTop:138},children:e.jsx(P,{style:{width:"100%",height:"48px",border:"none",borderRadius:"100px",fontWeight:500,fontSize:"16px"},htmlType:"submit",type:"primary",children:"发送"})})]}):e.jsx("span",{children:"Connect Your Wallet"}),o?e.jsxs("div",{children:[e.jsx("p",{children:"View your transaction on "}),e.jsx("a",{href:b(),children:"Solana Explorer"})]}):null]})};export{F as default};
